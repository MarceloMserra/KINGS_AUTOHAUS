<!-- This file will be rendered inside the {{{body}}} of the layout.hbs -->

<style>
    /* Styles specific to the public car list page */
    html, body {
        height: 100%; /* Ensure html and body take full height */
        margin: 0;
        padding: 0;
    }

    body {
        background-color: #000000; /* Absolute black background for the entire page */
        color: #ffffff; /* Default text color for contrast */
        /* Imagem de fundo específica para esta página */
        background-image: url('/images/fotocapa2.png'); /* Your desired background image */
        background-repeat: no-repeat;
        background-attachment: fixed; /* Parallax effect */
        background-size: cover; /* Cover the entire viewport */
        background-position: center; /* Center the background image */
    }

    .container {
        padding-top: 30px;
        padding-bottom: 30px;
        background-color: rgba(0, 0, 0, 0.7); /* Semi-transparent black background for content area */
        border-radius: 10px;
        margin-top: 50px; /* Space from top */
        margin-bottom: 50px; /* Space from bottom */
    }

    h2.section-title-public {
        color: #ffffff; /* White title for public sections */
        font-size: 3rem;
        font-weight: bold;
        margin-bottom: 50px;
        position: relative;
        padding-bottom: 15px;
        text-align: center;
    }

    h2.section-title-public::after {
        content: '';
        position: absolute;
        left: 50%;
        bottom: 0;
        transform: translateX(-50%);
        height: 4px;
        width: 100px;
        background-color: #05FC04; /* Green line - UPDATED GREEN */
        border-radius: 5px;
    }

    .card {
        background-color: #1a1a1a; /* Darker card background */
        border: 1px solid #333333; /* Subtle card border */
        color: #ffffff; /* White text inside cards */
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border-radius: 10px; /* Rounded card corners */
    }

    .card:hover {
        transform: translateY(-5px); /* Lift effect on hover */
        box-shadow: 0 15px 30px rgba(5, 252, 4, 0.15); /* Green glow on hover - UPDATED GREEN */
    }

    .card-img-top-wrapper {
        position: relative;
        overflow: hidden;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
    }

    .card-img-top {
        height: 220px;
        object-fit: cover;
        width: 100%;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
    }

    .badge-secondary {
        background-color: #05FC04 !important; /* Green badge - UPDATED GREEN */
        color: #000000 !important; /* Black text on badge */
        font-weight: bold;
    }

    .card-body {
        padding: 25px;
    }

    .card-title {
        color: #05FC04; /* Green title for cars - UPDATED GREEN */
        font-weight: bold;
        font-size: 1.6rem;
    }

    .card-text.text-muted {
        color: rgba(255, 255, 255, 0.7) !important; /* Lighter grey for muted text */
    }

    .car-specs li {
        margin-bottom: 8px;
        font-size: 0.95rem;
    }

    .car-specs i {
        color: #05FC04; /* Green icons - UPDATED GREEN */
        margin-right: 8px;
    }

    .card-text.price {
        color: #05FC04; /* Green price - UPDATED GREEN */
        font-size: 1.8rem;
        font-weight: bold;
        margin-top: 15px;
    }

    .btn-primary-custom {
        background-color: #05FC04; /* Green button - UPDATED GREEN */
        border-color: #05FC04; /* UPDATED GREEN */
        color: #000000; /* Black text */
        font-weight: bold;
        border-radius: 5px;
        transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
    }

    .btn-primary-custom:hover {
        background-color: #04D803; /* Darker green on hover - UPDATED GREEN */
        border-color: #04D803; /* UPDATED GREEN */
        color: #ffffff;
    }

    .alert-warning-custom {
        background-color: #1a1a1a; /* Dark background for warning alert */
        color: #ffffff;
        border-color: #333333;
        border-radius: 8px;
        padding: 15px;
        margin-top: 20px;
    }
</style>

<section id="carmodels" class="py-5">
    <div class="container">
        <h2 class="section-title-public text-center">Available Cars</h2>

        {{#if gasCars.length}}
        <div class="row">
            {{#each gasCars}}
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="card h-100 shadow-sm">
                    {{#if this.image.length}}
                        <div class="card-img-top-wrapper">
                            <img src="{{this.image.[0]}}" class="card-img-top" alt="{{this.title}}">
                            {{#if (gt this.image.length 1)}}
                                <span class="badge badge-secondary position-absolute" style="top: 10px; right: 10px;">
                                    {{this.image.length}} photos
                                </span>
                            {{/if}}
                        </div>
                    {{else}}
                        <img src="https://placehold.co/600x400/0a0a0a/05FC04?text=No+Image" class="card-img-top" alt="No Image"> <!-- UPDATED GREEN -->
                    {{/if}}
                    <div class="card-body">
                        <h5 class="card-title">{{this.brand}} {{this.t2}}</h5>
                        <p class="card-text text-muted">{{this.year}}</p>
                        <ul class="list-unstyled car-specs">
                            <li><i class="fas fa-tachometer-alt"></i> <strong>Max Speed:</strong> {{this.topspeed}} mph</li>
                            <li><i class="fas fa-stopwatch"></i> <strong>0-60 Time:</strong> {{this.time60}} s</li>
                            <li><i class="fas fa-gas-pump"></i> <strong>Mileage:</strong> {{this.mileage}} mpg</li>
                            <li><i class="fas fa-engine"></i> <strong>Engine:</strong> {{this.engine}} L</li>
                            <li><i class="fas fa-cogs"></i> <strong>Cylinders:</strong> {{this.cyl}}</li>
                            <li><i class="fas fa-car-alt"></i> <strong>Gearbox:</strong> {{this.gearbox}}</li>
                            <li><i class="fas fa-car-side"></i> <strong>Transmission:</strong> {{this.transmission}}</li>
                            <li><i class="fas fa-palette"></i> <strong>Color:</strong> {{this.colour}}</li>
                            <li><i class="fas fa-couch"></i> <strong>Interior:</strong> {{this.interior}}</li>
                            <li><i class="fas fa-car-battery"></i> <strong>Body:</strong> {{this.body}}</li>
                            <li><i class="fas fa-road"></i> <strong>Drivetrain:</strong> {{this.drivetrain}}</li>
                            <li><i class="fas fa-tire"></i> <strong>Wheel:</strong> {{this.wheel}}</li>
                        </ul>
                        <p class="card-text font-weight-bold display-5 price">R$ {{this.priceStr}}</p>
                        <a href="/gas/details/{{this._id}}" class="btn btn-primary-custom btn-block">View Details</a>
                    </div>
                </div>
            </div>
            {{/each}}
        </div>
        {{else}}
        <div class="alert alert-warning-custom text-center" role="alert">
            No cars available with the selected filters.
        </div>
        {{/if}}

    </div>
</section>

<!-- Removed JavaScript for dynamic Model filter as it's not needed here anymore -->
