<!DOCTYPE html>
<html lang="en">

<head>
    <title>KINGS AUTOHAUS</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Stylesheet -->
    <link rel="icon" href="/images/auto_favi.ico" type="image/x-icon" />
    <link rel="stylesheet" href="/css/style.css">
    <!-- Custom CSS file for premium theme - NOW CONTAINS HEADER STYLES -->
    <link rel="stylesheet" href="/css/premium-theme.css">
    <!-- Link to home.css - IMPORTANT: Ensure this file exists and contains home page specific styles -->
    <link rel="stylesheet" href="/css/home.css">

    {{!-- Icons --}}
    <script src="https://kit.fontawesome.com/f7b393d83e.js" crossorigin="anonymous"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=PT+Sans+Caption&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap" rel="stylesheet">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        xintegrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <!-- REMOVED INLINE <style> BLOCK - ITS CONTENT IS MOVED TO premium-theme.css -->

</head>

<body>

    <!-- Top Bar -->
    <section id="top-bar" class="d-none d-lg-block"> <!-- Changed to d-lg-block to hide on md and sm screens -->
        <div class="container-fluid">
            <div class="row align-items-center">
                <div class="col-lg-6 text-left">
                    <span class="contact-info">
                        <i class="fas fa-map-marker-alt"></i> 1278 Washington St, Holliston MA 01746
                    </span>
                    <span class="contact-info">
                        <i class="fas fa-phone"></i> +1 (774)523-7860
                    </span>
                </div>
                <div class="col-lg-6 text-right">
                    <div class="social-icons">
                        <a href="https://www.facebook.com/kingsautohaus" target="_blank" class="mr-2"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://www.google.com/maps/search/?api=1&query=1278%20Washington%20St,%20Holliston%20MA%2001746" target="_blank" class="mr-2"><i class="fab fa-google-plus-g"></i></a>
                        <a href="https://www.instagram.com/kingsautous/" target="_blank" class="mr-2"><i class="fab fa-instagram"></i></a>
                        <!-- You can add more icons here -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Navbar -->
    <section id="navigation">
        <div class="container-fluid" id="nav-container">
            <nav class="navbar navbar-expand-lg" id="main-navbar">
                <a class="navbar-brand mx-auto mx-lg-0" href="/">
                    <!-- KINGS AUTOHAUS LOGO - NOW FIXED SIZE -->
                    <img src="/images/kings_autohaus_logo.jpeg" alt="KINGS AUTOHAUS Logo">
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
                    aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNavDropdown">
                    <ul class="navbar-nav ml-auto"> <!-- ml-auto to align all items to the right -->
                        <li class="nav-item ml-4">
                            <a class="nav-link" href="/gas">Inventory</a> <!-- Link to car inventory -->
                        </li>
                        <li class="nav-item ml-4">
                            <a class="nav-link" href="/financing">Financing</a>
                        </li>
                        <li class="nav-item ml-4">
                            <a class="nav-link" href="/#about-us">About Us</a> <!-- Link to About Us section on Home -->
                        </li>
                        <li class="nav-item ml-4">
                            <a class="nav-link" href="/#contact-info">Contact</a> <!-- Link to Contact section on Home -->
                        </li>
                        <li class="nav-item">
                            <!-- Login Button -->
                            <a class="nav-link btn btn-outline-light px-3 py-2 ml-md-3" href="/login"
                                style="border-color: #05FC04; color: #05FC04 !important; border-radius: 5px; font-weight: bold;">
                                Login
                            </a>
                        </li>
                        <!-- Added Search Icon - you can link this to a search page or a modal -->
                        <li class="nav-item ml-4 d-flex align-items-center">
                            <a class="nav-link" href="#" aria-label="Search">
                                <i class="fas fa-search" style="color: #05FC04;"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </section>

    {{{body}}}

    <!-- jQuery and Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"
        xintegrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        xintegrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>
    <script src="/javascripts/ev_cars.js"></script> {{!-- Keep if still used elsewhere, senão remover --}}
    <script src="/javascripts/gas_cars.js"></script> {{!-- Keep if still used elsewhere, senão remover --}}

    <script>
        // JavaScript for the navbar scroll effect
        document.addEventListener('DOMContentLoaded', function() {
            const mainNavbar = document.getElementById('main-navbar');
            const topBar = document.getElementById('top-bar');
            const body = document.body;

            function adjustBodyPadding() {
                let totalHeaderHeight = mainNavbar.offsetHeight;
                // Check if topBar is visible (not hidden by transform and not display: none)
                if (topBar && topBar.style.transform !== 'translateY(-100%)' && window.getComputedStyle(topBar).display !== 'none') {
                    totalHeaderHeight += topBar.offsetHeight;
                }
                body.style.paddingTop = `${totalHeaderHeight}px`;
            }

            function handleScroll() {
                if (window.scrollY > 50) { // If scroll is greater than 50px
                    mainNavbar.classList.add('scrolled');
                    if (topBar) {
                        topBar.style.transform = 'translateY(-100%)'; // Hide top-bar
                    }
                } else {
                    mainNavbar.classList.remove('scrolled');
                    if (topBar) {
                        topBar.style.transform = 'translateY(0)'; // Show top-bar
                    }
                }
                adjustBodyPadding(); // Adjust body padding on each scroll
            }

            // Add scroll event listener
            window.addEventListener('scroll', handleScroll);

            // Call function once on load to set correct initial state
            window.addEventListener('load', function() {
                adjustBodyPadding(); // Adjust initial padding after full load
                handleScroll(); // Set initial navbar state based on current scroll
            });

            // Adjust body padding on window resize
            window.addEventListener('resize', function() {
                // Re-evaluate topBar visibility on resize
                if (window.innerWidth < 992) { // Use 992px for d-lg-block breakpoint
                    if (topBar) topBar.style.display = 'none';
                } else if (!mainNavbar.classList.contains('scrolled')) {
                    if (topBar) topBar.style.display = 'block'; // Changed to block as it's not flex
                }
                adjustBodyPadding();
            });
        });
    </script>
</body>

</html>
