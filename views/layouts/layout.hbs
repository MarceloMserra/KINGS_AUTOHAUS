<!DOCTYPE html>
<html>

<head>
    <title>KINGS AUTOHAUS</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Stylesheet -->
    <link rel="icon" href="/images/auto_favi.ico" type="image/x-icon" />
    <link rel="stylesheet" href="/css/style.css">
    <!-- Adicionar um ficheiro CSS personalizado para o tema premium -->
    <link rel="stylesheet" href="/css/premium-theme.css">

    {{!-- Icons --}}
    <script src="https://kit.fontawesome.com/f7b393d83e.js" crossorigin="anonymous"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=PT+Sans+Caption&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap" rel="stylesheet">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        xintegrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <style>
        /* Estilos globais para o corpo */
        body {
            background-color: #000000; /* Fundo preto absoluto */
            color: #ffffff; /* Cor do texto padrão para contraste */
        }

        /* Estilos para a barra superior (top bar) */
        #top-bar {
            background-color: #1a1a1a; /* Cor de fundo para a barra superior */
            color: rgba(255, 255, 255, 0.8); /* Cor do texto */
            padding: 10px 0;
            font-size: 0.9rem;
            border-bottom: 1px solid #333333;
            position: fixed; /* Fixa a top-bar no topo */
            width: 100%;
            top: 0;
            left: 0;
            z-index: 1040; /* Acima da navbar principal */
            transition: all 0.3s ease-in-out; /* Transição suave */
        }

        #top-bar a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        #top-bar a:hover {
            color: #05FC04; /* Cor verde no hover */
        }

        #top-bar .social-icons a {
            margin-left: 15px;
            font-size: 1.2rem;
        }

        #top-bar .contact-info span {
            margin-left: 20px;
        }

        /* Estilos para a barra de navegação principal */
        #main-navbar {
            background-color: #000000; /* Navbar preta absoluta */
            border-bottom: 1px solid #1a1a1a; /* Linha subtil para separar */
            padding: 20px 0; /* Padding maior para a logo grande */
            transition: all 0.3s ease-in-out; /* Transição suave para o efeito de rolagem */
            position: fixed; /* Fixa a navbar no topo */
            width: 100%; /* Ocupa a largura total */
            top: 45px; /* Ajusta a posição para ficar abaixo da top-bar */
            left: 0;
            z-index: 1030; /* Garante que a navbar esteja acima de outros elementos */
        }

        /* Estilos da logo */
        #main-navbar .navbar-brand img {
            height: 80px; /* Tamanho inicial da logo grande */
            transition: height 0.3s ease-in-out; /* Transição suave para o tamanho da logo */
        }

        /* Estilos para os links de navegação */
        #main-navbar .nav-link {
            color: #ffffff !important; /* Links da navbar brancos */
            font-weight: bold;
            transition: color 0.3s ease;
        }

        #main-navbar .nav-link:hover {
            color: #05FC04 !important; /* Efeito hover verde para links */
        }

        /* Ajustar a cor do ícone do toggler para ser visível no fundo preto */
        .navbar-toggler-icon {
            background-image: url("data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 30 30' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba%28255, 255, 255, 0.8%29' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 7h22M4 15h22M4 23h22'/%3E%3C/svg%3E") !important;
        }

        /* Estilos para a navbar quando a página é rolada */
        #main-navbar.scrolled {
            padding: 10px 0; /* Padding menor quando rolado */
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5); /* Sombra para destacar */
            top: 0; /* Sobe a navbar para o topo da tela */
        }

        #main-navbar.scrolled .navbar-brand img {
            height: 40px; /* Logo menor quando rolado */
        }

        /* Adiciona um padding ao corpo para evitar que o conteúdo fique escondido atrás da navbar fixa */
        body {
            padding-top: 145px; /* Altura inicial da top-bar (45px) + navbar (100px) */
        }
        /* Ajuste o padding-top do body quando a navbar estiver menor */
        #main-navbar.scrolled + body { /* Este seletor pode ser problemático, o JS ajustará dinamicamente */
            padding-top: 60px; /* Altura da navbar menor + um pouco de espaço */
        }

        /* Media queries para responsividade */
        @media (max-width: 768px) {
            #top-bar {
                display: none; /* Esconde a top-bar em telas menores para economizar espaço */
            }
            #main-navbar {
                top: 0; /* Navbar começa no topo em telas menores */
            }
            body {
                padding-top: 100px; /* Ajusta o padding-top do body para telas menores */
            }
            #main-navbar.scrolled + body {
                padding-top: 60px;
            }
        }
    </style>

</head>

<body>

    <!-- Top Bar -->
    <section id="top-bar" class="d-none d-md-block"> <!-- Esconde em telas menores que md -->
        <div class="container-fluid">
            <div class="row align-items-center">
                <div class="col-md-6 text-left">
                    <span class="contact-info">
                        <i class="fas fa-map-marker-alt"></i> 123 Auto Street, Car City, State, ZIP 12345
                    </span>
                    <span class="contact-info">
                        <i class="fas fa-phone"></i> +1 (555) 123-4567
                    </span>
                </div>
                <div class="col-md-6 text-right">
                    <div class="social-icons">
                        <a href="https://www.facebook.com/kingsautohaus" target="_blank" class="mr-2"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://www.google.com/search?q=KINGS+AUTOHAUS" target="_blank" class="mr-2"><i class="fab fa-google-plus-g"></i></a>
                        <a href="https://www.instagram.com/kingsautohaus" target="_blank" class="mr-2"><i class="fab fa-instagram"></i></a>
                        <!-- Você pode adicionar mais ícones aqui -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Navbar Principal -->
    <section id="navigation">
        <div class="container-fluid" id="nav-container">
            <nav class="navbar navbar-expand-md" id="main-navbar">
                <a class="navbar-brand" href="/">
                    <!-- Nova Logo KINGS AUTOHAUS -->
                    <img src="/images/kings_autohaus_logo.jpeg" alt="KINGS AUTOHAUS Logo">
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
                    aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNavDropdown">
                    <ul class="navbar-nav ml-auto"> <!-- ml-auto para alinhar todos os itens à direita -->
                        <li class="nav-item ml-4">
                            <a class="nav-link" href="/gas">Inventory</a> <!-- Link para o estoque de carros -->
                        </li>
                        <li class="nav-item ml-4">
                            <a class="nav-link" href="/financing">Financing</a>
                        </li>
                        <li class="nav-item ml-4">
                            <a class="nav-link" href="/#about-us">About Us</a> <!-- Link para a seção About Us na Home -->
                        </li>
                        <li class="nav-item ml-4">
                            <a class="nav-link" href="/#contact-info">Contact</a> <!-- Link para a seção Contact na Home -->
                        </li>
                        <li class="nav-item">
                            <!-- Botão de Login -->
                            <a class="nav-link btn btn-outline-light px-3 py-2 ml-md-3" href="/login"
                                style="border-color: #05FC04; color: #05FC04 !important; border-radius: 5px; font-weight: bold;">
                                Login
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </section>

    {{{body}}}

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"
        xintegrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        xintegrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>
    <script src="/javascripts/ev_cars.js"></script> {{!-- Manter se ainda for usar em algum lugar, senão remover --}}
    <script src="/javascripts/gas_cars.js"></script> {{!-- Manter se ainda for usar em algum lugar, senão remover --}}

    <script>
        // JavaScript para o efeito de navbar ao rolar
        document.addEventListener('DOMContentLoaded', function() {
            const mainNavbar = document.getElementById('main-navbar');
            const topBar = document.getElementById('top-bar');
            const body = document.body;
            let initialNavbarHeight = mainNavbar.offsetHeight; // Captura a altura inicial da navbar
            let initialTopBarHeight = topBar ? topBar.offsetHeight : 0; // Captura a altura inicial da top-bar

            function adjustBodyPadding() {
                // Ajusta o padding-top do body para compensar a navbar fixa
                // Isso evita que o conteúdo seja escondido por baixo da navbar
                if (mainNavbar.classList.contains('scrolled')) {
                    body.style.paddingTop = '60px'; // Altura menor da navbar + um pouco de espaço
                } else {
                    body.style.paddingTop = `${initialNavbarHeight + initialTopBarHeight}px`; // Altura inicial da top-bar + navbar
                }
            }

            function handleScroll() {
                if (window.scrollY > 50) { // Se a rolagem for maior que 50px
                    mainNavbar.classList.add('scrolled');
                    if (topBar) {
                        topBar.style.transform = 'translateY(-100%)'; // Esconde a top-bar
                    }
                } else {
                    mainNavbar.classList.remove('scrolled');
                    if (topBar) {
                        topBar.style.transform = 'translateY(0)'; // Mostra a top-bar
                    }
                }
                adjustBodyPadding(); // Ajusta o padding do body a cada rolagem
            }

            // Adiciona o event listener para o scroll
            window.addEventListener('scroll', handleScroll);

            // Chama a função uma vez ao carregar para definir o estado inicial correto
            // e recalcula as alturas após o DOM carregar completamente
            window.addEventListener('load', function() {
                initialNavbarHeight = mainNavbar.offsetHeight;
                initialTopBarHeight = topBar ? topBar.offsetHeight : 0;
                adjustBodyPadding(); // Ajusta o padding inicial
                handleScroll(); // Define o estado inicial da navbar com base na rolagem atual
            });

            // Ajusta o padding do body em caso de redimensionamento da janela
            window.addEventListener('resize', adjustBodyPadding);
        });
    </script>
</body>

</html>
